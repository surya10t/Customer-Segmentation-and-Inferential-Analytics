
LIBNAME pj 'E:\Users\spt170230\Documents\MySASFiles\Project';
RUN;

/*DATA pj.storedata;
INFILE 'H:\Project\factiss_drug_and_groc.dat' FIRSTOBS = 2 MISSOVER DSD DELIMITER = '09'x;
INPUT IRI_KEY WEEK UNITS DOLLARS F $ D PR ;
RUN;

data pj.prod_tissue;
  infile "H:\Project\prod_tissue_V4.csv" delimiter=',' firstobs=2;
  input L4 $ L5 $ COLUPC VOL_EQ COLOR $ SIZE $ ADDITIVES $ NUM_PLY $ TYPE_DISPEN $;
run;

DATA pj.storedata2;
MERGE pj.storedata pj.prod_tissue;
BY COLUPC;
RUN;

DATA pj.storedata2;
SET pj.storedata;
UNIQ_ID = CATX("",COLUPC,IRI_KEY);
RUN;*/

DATA storedata;
INFILE 'E:\Users\spt170230\Documents\MySASFiles\Project\Panel_Data_Final.csv' DELIMITER = ',' FIRSTOBS = 2 MISSOVER DSD;
INPUT  ID COLUPC L4 $ L5 $ VOL_EQ IRI_KEY WEEK UNITS DOLLARS TYPE_DISPEN_ASSORTED TYPE_DISPEN_POPUP TYPE_DISPEN_TEAROPEN TYPE_DISPEN_TOPSIDEOPENING TYPE_DISPEN_TOPOPENING BRAND_SALES UNIT_PRICE 
 SHEET_PRICE SALES_SHARE WEIGHTED_AVG_PRICE WEIGHTED_AVG_DISPLAY WEIGHTED_AVG_PR WEIGHTED_AVG_S_ASSORTED WEIGHTED_AVG_S_EXTRALARGE WEIGHTED_AVG_S_FAMILY WEIGHTED_AVG_S_FULLSIZE WEIGHTED_AVG_S_JUNIOR 
 WEIGHTED_AVG_S_MISSING WEIGHTED_AVG_S_POCKET WEIGHTED_AVG_S_REGULAR WEIGHTED_AVG_S_TRAVEL WEIGHTED_AVG_2PLY WEIGHTED_AVG_3PLY WEIGHTED_AVG_FA WEIGHTED_AVG_F_A_PLUS WEIGHTED_AVG_F_B WEIGHTED_AVG_F_C WEIGHTED_AVG_F_NONE WEIGHTED_AVG_ADD_ALOEVERA WEIGHTED_AVG_ADD_ALOEVERA_LOTION WEIGHTED_AVG_ADD_ASSORTED WEIGHTED_AVG_ADD_LOTION WEIGHTED_AVG_ADD_MENTHOL WEIGHTED_AVG_ADD_MISSING WEIGHTED_AVG_ADD_NO WEIGHTED_AVG_ADD_NO_DIP WEIGHTED_AVG_ADD_NOLOTION WEIGHTED_AVG_C_ASSORTED WEIGHTED_AVG_C_ASSORTEDPRINT WEIGHTED_AVG_C_HOLIDAY WEIGHTED_AVG_C_MISSING WEIGHTED_AVG_C_PRINT WEIGHTED_AVG_C_WHITE store_200171 store_200633  store_217804 store_220159 store_220679 store_222077  store_223759 store_225023 store_234702 store_234748  store_242224 store_244092 store_247176 store_252139  store_252147 store_252570 store_253139 store_255563  store_258282 store_259495 store_264203 store_266481  store_266824 store_267699 store_271172 store_271962  store_274125 store_276392 store_277330 store_278346  store_278571 store_283639 store_284950 store_286951  store_288066 store_291278 store_291506 store_292593  store_293336 store_532828 store_536067 store_646857  store_647512 store_648235 store_648459 store_649405  store_657004 store_657979 store_668871 store_684023  KL_WEIGHTED_AVG_PRICE KL_WEIGHTED_AVG_DISPLAY  KL_WEIGHTED_AVG_PR SC_WEIGHTED_AVG_PRICE  SC_WEIGHTED_AVG_DISPLAY SC_WEIGHTED_AVG_PR;
RUN;


PROC SORT DATA=storedata; 
BY IRI_KEY WEEK;
RUN;

/*Base classes: WEIGHTED_AVG_S_REGULAR, WEIGHTED_AVG_F_NONE,WEIGHTED_AVG_ADD_NO, WEIGHTED_AVG_C_WHITE, store_200171*/
PROC PANEL data=storedata;
ID IRI_KEY WEEK;       
MODEL BRAND_SALES = WEIGHTED_AVG_PRICE WEIGHTED_AVG_DISPLAY WEIGHTED_AVG_PR WEIGHTED_AVG_S_ASSORTED WEIGHTED_AVG_S_EXTRALARGE WEIGHTED_AVG_S_FAMILY WEIGHTED_AVG_S_FULLSIZE WEIGHTED_AVG_S_JUNIOR 
 WEIGHTED_AVG_S_POCKET WEIGHTED_AVG_S_MISSING WEIGHTED_AVG_S_TRAVEL WEIGHTED_AVG_2PLY WEIGHTED_AVG_3PLY WEIGHTED_AVG_FA WEIGHTED_AVG_F_A_PLUS WEIGHTED_AVG_F_B WEIGHTED_AVG_F_C 
 WEIGHTED_AVG_ADD_ALOEVERA WEIGHTED_AVG_ADD_ALOEVERA_LOTION WEIGHTED_AVG_ADD_ASSORTED WEIGHTED_AVG_ADD_LOTION WEIGHTED_AVG_ADD_MENTHOL WEIGHTED_AVG_ADD_MISSING WEIGHTED_AVG_ADD_NO_DIP 
 WEIGHTED_AVG_ADD_NOLOTION WEIGHTED_AVG_C_ASSORTED WEIGHTED_AVG_C_ASSORTEDPRINT WEIGHTED_AVG_C_HOLIDAY WEIGHTED_AVG_C_MISSING WEIGHTED_AVG_C_PRINT
 store_200633 
 store_217804 store_220159 store_220679 store_222077 
 store_223759 store_225023 store_234702 store_234748 
 store_242224 store_244092 store_247176 store_252139 
 store_252147 store_252570 store_253139 store_255563 
 store_258282 store_259495 store_264203 store_266481 
 store_266824 store_267699 store_271172 store_271962 
 store_274125 store_276392 store_277330 store_278346 
 store_278571 store_283639 store_284950 store_286951 
 store_288066 store_291278 store_291506 store_292593 
 store_293336 store_532828 store_536067 store_646857 
 store_647512 store_648235 store_648459 store_649405 
 store_657004 store_657979 store_668871 store_684023 
 KL_WEIGHTED_AVG_PRICE KL_WEIGHTED_AVG_DISPLAY 
 KL_WEIGHTED_AVG_PR SC_WEIGHTED_AVG_PRICE 
 SC_WEIGHTED_AVG_DISPLAY SC_WEIGHTED_AVG_PR / fixtwo;    
Run;


